<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Design Details</title>
    <link rel="stylesheet" href="css/main.less">
    <link rel="stylesheet" href="css/main.css">     
    <link rel="stylesheet" href="css/bootstrap.min.css">   
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script type="text/javascript" src="scripts/jquery-2.1.3.js"></script>
    <script type="text/javascript" src="scripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=geometry&v=3.exp"></script>
    <script type="text/javascript" src="scripts/worksData.js"></script>
    <script type="text/javascript" src="scripts/handler.js"></script>
    <script type="text/javascript" src="scripts/kinetic.js"></script>
    <script type="text/javascript" src="scripts/hdsolar2.js"></script>
    <script type="text/javascript" src="scripts/d3.min.js"></script>
    <script type="text/javascript" src="scripts/verify.js"></script>
</head>
<body>
    <div id="container">
        <div class="rel">

            <div id="content_ziba">
                <div class="rel">
                        <div class="rel clearfix">
                            <div id="sidebar">
                                <div class="proposalpage">                                    
                                    <div class="section-back">                                                                           
                                        <div class="btn_ziba orange cancel" onclick="closepopup()">                                            
                                            Cancel                                             
                                        </div>                                                                           
                                    </div>
                                    <!--div class="" style="text-align: center;">                                                                           
                                        <div class="btn_ziba orange" id="customername" style="width: 88%;height: 0%; box-shadow: 1px 4px 5px #888888;margin-top: 6%; font-weight: 500; font-size: 18px;" onclick="customerpage()">                                            
                                                                                         
                                        </div>                                                                           
                                    </div-->
                                    <div class="form-group">
                                    <div class="element">
                                            <div class="label_ziba">
                                                <label>Proposal name</label>
                                            </div>
                                            <div class="input">
                                                <input type="text"  id="proposalname" class="text">
                                            </div>
                                        </div>
                                        <!--div class='title'>
                                            <span id="customername">-</span>
                                        </div-->
                                        <div class="element">
                                                <div class="label_ziba" >
                                                    <label>Address</label>
                                                </div>
                                                <div class="input">
                                                    <input type="text" id = "addressLine1" class="text" readonly style="background-color:white">
                                                    <input type="text" id = "addressLine2" class="text" readonly style="background-color:white">
                                                </div>
                                        </div>
                                    </div>
                                    <div id='billanalysis'>
                                        <h4>Bill Analysis</h4>
                                        <table>
                                            <tr>
                                                <td class="element">Annual Usage (kWh):</td>
                                                <td class="element"><span id='annualusage'></span><span class="spinblock" id = "annualspinner" ></span></td>
                                            </tr>
                                            <tr>
                                                <td class="element">Average $/kwh ($):</td>
                                                <td class="element"><span id='avgkwh'></span><span class="spinblock" id="averagespinner"></span></td>
                                            </tr>
                                            <tr>
                                                <td class="element">Pre solar Utility ($):</td>
                                                <td class="element"><span id='presolarutility'></span><span class="spinblock" id="presolarspinner"></span></td>
                                            </tr>
                                            <tr>
                                                <td class="element">Post solar Utility ($):</td>
                                                <td class="element"><span id='postsolarutility'></span><span class="spinblock" id="postsolarspinner"></span></td>
                                            </tr>
											<tr>
                                                <td class="element">Utility Bill Savings ($):</td>
                                                <td class="element"><span id='billsavings'></span><span class="spinblock" id="savingsspinner"></span></td>
                                            </tr>
                                        </table>
                                    </div>
                                    <div id='designanalysis'>
                                        <h4>Design Analysis</h4>                                        
                                        <table>
                                            <tr>
                                                <td class="element">System Size (kW):</td>
                                                <td class="element"><span id='systemsize'></span></td>
                                            </tr>
                                            <tr>
                                                <td class="element">Year 1 Production (kWh):</td>
                                                <td class="element"><span id='year1prod'></span></span><span class="spinblock" id="productionspinner"></span></td>
                                            </tr>
                                            <tr>
                                                <td class="element">Energy Offset (%):</td>
                                                <td class="element"><span id='offset'></span></span><span class="spinblock" id="offsetspinner"></span></td>
                                            </tr>
                                            <tr>
                                                <td class="element">System Yield :</td>
                                                <td class="element"><span id='yield'></span></span><span class="spinblock" id="yieldspinner"></span></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="btn_ziba orange next full" onclick="apicall()" style="margin-right: 10%; width: 25%;">Calculate</div>   
                            </div>

                            <div id="main">
                                <div class="rel clearfix middlecontent">
                                    <div id="utility">
                                        <div class="proposaltitle">
                                            Step 1. Estimate Utility Costs
                                        </div>
                                        <div id="utilitydetails">
                                            <div class="left">
                                                <div id = "" class="a">                                          
                                                    Utility Provider:                                            
                                                    <select id="rate_provider" class ="dropdownelem" onchange="utilitychange(); resetBillAndUsageValues();">                                                        
                                                    </select>
                                                </div>
                                                <div id = "" class="a">                                          
                                                    Current Tariff                                            
                                                    <select id="currenttariff" class ="dropdownelem" onchange="onTariffChange(); resetBillAndUsageValues();">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="right">
                                                <div id = "" class="a">                                          
                                                    Utility tax rate                                           
                                                    <input type="text" id="taxrate" class="numberval" style="margin:0 0 0 10%   ; width: 59%;" value='0' onchange="resetBillAndUsageValues();" onfocusout="checkinput()">
                                                </div>                                                
                                                <div id = "" class="a">                                          
                                                    After-Solar Tariff                                           
                                                    <select id="aftertariff" class ="dropdownelem">
                                                    </select>
                                                </div>
                                            </div>
                                        </div>                                        
                                            <div id="bills">
                                                <div id ="radioheading"> 
                                                <h4 style ="margin-left: 0;">Bills & Usage</h4>
                                                <div class='billradio'>
                                                    <input type="radio" name="billtype"  onclick="changeBillType()" value="annual" style="display: block; margin-right: 5px;" checked="checked">Annual&nbsp;
                                                    <input type="radio" name="billtype"  onclick="changeBillType()" value="monthlyAuto" style="display: block; margin-left: 25px; margin-right: 5px;">Monthly&nbsp;Auto
                                                    <input type="radio" name="billtype"  onclick="changeBillType()" value="monthlyManual" style="display: block; margin-left: 25px; margin-right: 5px;">Monthly&nbsp;Manual    
                                                </div>
                                            </div>
                                                <div style="display: -webkit-box; display: flex; width: 100%;">
                                                    <table style="width: 12%;">
                                                        <tr>
                                                            <td></td>
                                                            <td style="padding-left: 11%;">Annual</td>
                                                        </tr>
                                                        <tr><td style="line-height: 5px;"><br></td></tr>
                                                        <tr>
                                                            <td>$</td>
                                                            <td><input type="text" class="usagetable numberval" id ="annualbill" style="width: 63%;" onchange="consumptioncall()" onfocusout="checkinput()" placeholder="0"></td>
                                                        </tr>
                                                        <tr><td style="line-height: 10px;"><br></td></tr>
                                                        <tr>
                                                            <td>kWh</td>
                                                            <td><input type="text" class="usagetable numberval" id="kwhusage" style="width: 63%;"  onchange="updateOnYearly()" onfocusout="checkinput()" placeholder="0"></td>
                                                        </tr>
                                                    </table>
                                                
                                                <div class="verticalbar">&nbsp;</div>
                                                <table id="firsttable">
                                                    <tr>
                                                        <td class="usageheading">Jan</td>
                                                        <td class="usageheading">Feb</td>
                                                        <td class="usageheading">Mar</td>
                                                        <td class="usageheading">Apr</td>
                                                        <td class="usageheading">May</td>
                                                        <td class="usageheading">Jun</td>
                                                        <td class="usageheading">Jul</td>
                                                        <td class="usageheading">Aug</td>
                                                        <td class="usageheading">Sep</td>
                                                        <td class="usageheading">Oct</td>
                                                        <td class="usageheading">Nov</td>
                                                        <td class="usageheading">Dec</td>
                                                    </tr>
                                                    <tr><td style="line-height: 5px;"><br></td></tr>
                                                    <tr>
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_1" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(1)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_2" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(2)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_3" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(3)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_4" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(4)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_5" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(5)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_6" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(6)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_7" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(7)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_8" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(8)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_9" name='monthlyBill'  onchange="autoCalcFromMonthlyBill(9)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_10" name='monthlyBill' onchange="autoCalcFromMonthlyBill(10)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_11" name='monthlyBill' onchange="autoCalcFromMonthlyBill(11)" onfocusout="checkinput()" placeholder="0"></td> 
                                                        <td><input type="text" class="billtable numberval" id ="billmonth_12" name='monthlyBill' onchange="autoCalcFromMonthlyBill(12)" onfocusout="checkinput()" placeholder="0"></td>                                                         
                                                    </tr>
                                                    <tr><td style="line-height: 10px;"><br></td></tr>
                                                    <tr>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_1" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(1)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_2" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(2)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_3" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(3)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_4" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(4)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_5" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(5)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_6" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(6)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_7" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(7)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_8" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(8)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_9" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(9)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_10" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(10)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_11" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(11)" onfocusout="checkinput()" placeholder="0"></td>
                                                        <td><input type="text" class="usagetable numberval" id ="usagemonth_12" name='monthlyUsage' onchange="autoCalcFromMonthlyUsage(12)" onfocusout="checkinput()" placeholder="0"></td>                                                        
                                                    </tr>
                                                </table>
                                                </div>
                                            </div>
                                    </div>
                                    <div id="design">
                                        <div class="proposaltitle">
                                            Step 2. Design System
                                        </div>
                                        <div id="designrow">
                                            <div id = "panelmodellabel">                                          
                                                Solar&nbsp;Panel:                                            
                                                <select id="panelmodelinput" class ="dropdownelem">
                                                    
                                                </select>
                                            </div>
                                            <div id = "inverter">                                          
                                                Inverter                                            
                                                <select id="inverterinput" class ="dropdownelem" onchange='inverterchange()'>                                                    
                                                </select>
                                            </div>
                                        </div>
                                        <div style="padding:4px;height:100%;">
                                            <!--div style="padding:4px;text-align:center;">
                                                <div id="btnCloneSave" class="btn_ziba orange" style="width:80px;">Save</div>
                                                <div id="btnCloneLoad" class="btn_ziba orange" style="width:80px;">Load</div>
                                            </div-->
                                            <div id="map-panel" class="map-panel">
                                                Map will be here
                                            </div>
                                        </div>
                                        <br>
                                            <div id="array">
                                                <div id="arraytitle" style="display: none;">
                                                    <div id="" style="text-align: center; margin-left: 18%;">
                                                        Shading: 100% = No Shade , 0% = Fully Shaded
                                                    </div>                                        
                                                    <hr id="horizontalbar">
                                                        <div id="whole" class="table-responsive" 
                                                        style="overflow: hidden;">
                                                            <table  class="table" style="width: 100%; margin-left: 0%; text-align: center;">
                                                                <tr style="border: 2px solid white;">
                                                                    <!-- <td class="arrayheading"></td> -->
                                                                    <td class="arrayheading">Azimuth</td>
                                                                    <td class="arrayheading">Tilt</td>
                                                                    <td class="arrayheading">Annual</td>
                                                                    <td class="arrayheading">Jan</td>
                                                                    <td class="arrayheading">Feb</td>
                                                                    <td class="arrayheading">Mar</td>
                                                                    <td class="arrayheading">Apr</td>
                                                                    <td class="arrayheading">May</td>
                                                                    <td class="arrayheading">Jun</td>
                                                                    <td class="arrayheading">Jul</td>
                                                                    <td class="arrayheading">Aug</td>
                                                                    <td class="arrayheading">Sep</td>
                                                                    <td class="arrayheading">Oct</td>
                                                                    <td class="arrayheading">Nov</td>
                                                                    <td class="arrayheading">Dec</td>
                                                                </tr>
                                                                <tr><td style="line-height: 8px;"><br></td></tr>
                                                            </table>
                                                        </div>                                                
                                                </div>
                                                <div class="array_cls" style="margin: -4% 0 0% 3%;">
                                                
                                                <div id="arraydetails" class="array_single" style="display:none;">
                                                    <td><span class="arrayNumber"></span></td>
                                                    <table class="arraytable">                                                    
                                                        <tr>                                                            
                                                            <td style="width: 9%;"><span id="azimuth">175</span></td>
                                                            <td><input type="text" class=" numberval" id ="tilt" onfocusout="checkinput()" onchange="updateSlope()"></td>
                                                            <td><input type="text" class=" numberval" id ="yearlyshade" onchange="calculatemonthly()" onfocusout="checkinput()"></td>                                                    
                                                            <td><input type="text" class=" numberval" id="janshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="febshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="marshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="aprshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="mayshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="junshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="julshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="augshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="sepshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="octshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="novshade" onfocusout="checkinput()"></td>
                                                            <td><input type="text" class=" numberval" id="decshade" onfocusout="checkinput()"></td>                                                        
                                                        </tr>
                                                    </table>
                                                    
                                                </div>
                                                </div>
                                            </div>  
                                            <div class="btn_ziba orange next full" onclick="financepage()" style="margin-right: 7%; width: 9%; margin-top: 4%;cursor: not-allowed; opacity: .3;" id="NextButton" >Next</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
        </div>
    </div>
</div>
</body>
</html>
