/*! angular-shims-placeholder - v0.3.6 - 2015-03-09
* https://github.com/cvn/angular-shims-placeholder
* Copyright (c) 2015 Chad von Nau; Licensed MIT */
!function(a,b){"use strict";a.module("ng.shims.placeholder",[]).service("placeholderSniffer",["$document",function(a){this.emptyClassName="empty",this.hasPlaceholder=function(){var b=a[0].createElement("input");return void 0!==b.placeholder}}]).directive("placeholder",["$timeout","$document","$interpolate","placeholderSniffer",function(c,d,e,f){if(f.hasPlaceholder())return{};var g=!1;return{restrict:"A",require:"?ngModel",priority:110,link:function(h,i,j,k){function l(){var a=i.val();i.hasClass(G)&&a&&a===F||m(function(){n(a)})}function m(a){b.documentMode<=11?c(a,0):a()}function n(a){a||0===a||B===b.activeElement?(i.removeClass(G),i.val(a)):(i.addClass(G),E||i.val(F)),E&&t()}function o(){return k?h.$eval(j.ngModel)||"":p()||""}function p(){var a=i.val();return a===j.placeholder&&(a=""),a}function q(a){i.hasClass(G)&&i.val()===F&&i.val(""),F=a,l()}function r(a,b){b?a.attr("unselectable","on"):a.removeAttr("unselectable")}function s(){z=a.element('<input type="text" value="'+F+'"/>'),u(),z.addClass(G).addClass(H).bind("focus",x),B.parentNode.insertBefore(z[0],B);for(var b=[j.ngDisabled,j.ngReadonly,j.ngRequired,j.ngShow,j.ngHide],c=0;c<b.length;c++)b[c]&&h.$watch(b[c],t)}function t(){u(),y()?z.addClass(H):i.hasClass(G)&&B!==b.activeElement?v():w()}function u(){z.val(F).attr("class",i.attr("class")||"").attr("style",i.attr("style")||"").prop("disabled",i.prop("disabled")).prop("readOnly",i.prop("readOnly")).prop("required",i.prop("required")),r(z,"on"===i.attr("unselectable"))}function v(){i.addClass(H),z.removeClass(H)}function w(){z.addClass(H),i.removeClass(H)}function x(){w(),B.focus()}function y(){var a="undefined"!=typeof j.ngShow,b="undefined"!=typeof j.ngHide;return a||b?a&&!h.$eval(j.ngShow)||b&&h.$eval(j.ngHide):!1}var z,A=o(),B=i[0],C=B.nodeName.toLowerCase(),D="input"===C||"textarea"===C,E="password"===j.type,F=j.placeholder,G=f.emptyClassName,H="ng-hide";D&&(j.$observe("placeholder",function(a){q(a)}),E&&s(),n(A),i.bind("focus",function(){i.hasClass(G)&&(i.val(""),i.removeClass(G),B.select())}),i.bind("blur",l),k||i.bind("change",function(){q(e(i.attr("placeholder"))(h))}),k&&(k.$render=function(){n(k.$viewValue),B!==b.activeElement||i.val()||B.select()}),g||(d.on("selectstart",function(b){var c=a.element(b.target);c.hasClass(G)&&c.prop("disabled")&&b.preventDefault()}),g=!0))}}}])}(window.angular,window.document);